var app = getApp();
Page({

  /**
   * 页面的初始数据
   */
  data: {	  
       testb:"",
	   showModal: false, //取消框
	   showa: true,
	   showb: false,
	   showc: false,
	   showd: false, //是否安装变压器
	   isshowd:'请选择',	
	   itemsshowd:  [{
	           message: '安装',
	         },{
	           message: '不安装'
	         }],
	   isbg:false,   
	   area: "",
	   showe: false, //企业主体证明类型
	   isshowe:'请选择',	
	   items: [{
	           message: '营业执照',
	         },{
	           message: '组织机构代码证'
	         },{
	           message: '宗教活动场所登记证'
	         },{
	           message: '社会团体法人登记证书'
	         },{
	           message: '军队、武警出具的办理用电业务的证明'
	         }],
	   
  },

  onLoad: function (options) {
      
  },
btna:function ()
{
  	  console.log(this.data.testb)
  	  this.setData({showa:false,showb:true,showc:false})
},
btnb:function ()
{  	  
  	  this.setData({showa:false,showb:false,showc:true})
},
btnc:function ()
{ 	  
},
//是否安装变压器选择
onBtna:function (){	
	this.setData({showd:true,isbg:true})
},
selBtna:function (res){
	this.setData({isshowd:this.data.itemsshowd[res.currentTarget.id].message})
	this.setData({showd:false,isbg:false})		
},
cloBtna:function (){
	this.setData({showd:false,isbg:false})
},
//企业主体证明类型选择
onBtnb:function (){	
	this.setData({showe:true,isbg:true})
},
selBtnb:function (res){
	this.setData({isshowe:this.data.items[res.currentTarget.id].message})
	this.setData({showe:false,isbg:false})		
},
cloBtnb:function (){
	this.setData({showe:false,isbg:false})
},
//取消框
oshowModal:function (){
	this.setData({showModal:true})
},
cshowModal:function (){
	this.setData({showModal:false})
},
  onRegionTap: function (e) {
	  var _this = this
	  var parentId = e.currentTarget.dataset.id || ''
	  var name = e.currentTarget.dataset.name || ''
	  var url = parentId ? `/ty/heatingApplet/address/addressList?parentId=${parentId}` : `/ty/heatingApplet/address/addressList`;
	 
	  this.setAreaTap(name);
	  
	  wx.request({
	      url: "https://testxny.tongyunzn.com" + url,
	      method: "get",
	      header: {
	          "content-type": "application/x-www-form-urlencoded", // 默认值
	          "token": 'MTkwLTE2MDA5OTc5MTkxMDEtZTMyZmY1ZmEzYjJlNDZkNDkzYTkxNDYyNzdkZjM0MWQ='
	      },
	      success: function (res) {
			if (res.data.status == "0000") {
			   
			}  
	        
	      },
	      complete: function () {
	          
	      }
	  })
  },
  setAreaTap: function (name) {
      var select = "请选择"
      var areaArray = wx.getStorageSync('areaArray') || []
      areaArray.pop()
      name !== '' && areaArray.push(name)
      areaArray.push(select)
      wx.setStorageSync('areaArray', areaArray)
      this.setData({
          areaArray: areaArray
      })
  },

  onTest:function ()
  {
	  
	  this.setData({showa:false,showb:true})
	  // wx.request({
	  //     url:  "https://testxny.tongyunzn.com/ty/heatingApplet/newclothes/addNewClothes",
	  //     method: "post",
	  //     header: {
	  //         "content-type": "application/json", // 默认值
	  //         "token": 'MTkwLTE2MDA5OTc5MTkxMDEtZTMyZmY1ZmEzYjJlNDZkNDkzYTkxNDYyNzdkZjM0MWQ='
	  //     },
	  //     data: {
	  //         type: '2',
	  //         region: _this.data.username,
	  //         phone: _this.data.phone,
	  //     },
	  //     success(res){
	  //         if (res.data.status == "0000") {
	  //           _this.setData({
	  //             show: true
	  //           })
	  //         }else{
	  //             wx.showToast({
	  //                 title: res.data.message,
	  //                 icon: "none",
	  //                 duration: 2000,
	  //               });
	  //         }
	         
	  //     }
	  // })
	 
	  
  },
  /**
   * 生命周期函数--监听页面初次渲染完成
   */
  onReady: function () {

  },

  /**
   * 生命周期函数--监听页面显示
   */
  onShow: function () {

  },

  /**
   * 生命周期函数--监听页面隐藏
   */
  onHide: function () {

  },

  /**
   * 生命周期函数--监听页面卸载
   */
  onUnload: function () {

  },

  /**
   * 页面相关事件处理函数--监听用户下拉动作
   */
  onPullDownRefresh: function () {

  },

  /**
   * 页面上拉触底事件的处理函数
   */
  onReachBottom: function () {

  },

  /**
   * 用户点击右上角分享
   */
  onShareAppMessage: function () {

  }
})